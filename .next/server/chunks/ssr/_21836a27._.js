module.exports=[12043,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,variant:d="pulse"}){return"wave"===d?(0,b.jsxs)("div",{className:(0,c.cn)("relative overflow-hidden",a),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-muted"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-shimmer"})]}):(0,b.jsx)("div",{className:(0,c.cn)("bg-muted animate-pulse",a)})}a.s(["ImageSkeleton",()=>d])},95991,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(54161),f=a.i(3130),g=a.i(40695),h=a.i(56872),i=a.i(4720),j=a.i(41675),k=a.i(46842),l=a.i(96221),m=a.i(32860),n=a.i(32262),o=a.i(62477);let p={blog:"Blog",report:"Report",publication:"Publication","policy-brief":"Policy Brief"},q={blog:"bg-blue-500",report:"bg-green-500",publication:"bg-purple-500","policy-brief":"bg-orange-500"};function r({type:a,initialInsights:r=[],initialTotal:s=0}){let[t,u]=(0,c.useState)(r.slice(0,6)),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(s>6),[z,A]=(0,c.useState)(1),[B,C]=(0,c.useState)(s),D=(0,c.useCallback)(async()=>{if(!v&&x){w(!0);try{let b=new URLSearchParams;b.set("isPublished","true"),a&&b.set("type",a);let c=t.length,d=Math.floor(c/3)+1;b.set("page",d.toString()),b.set("limit","3");let e=await o.api.get(`/insights?${b.toString()}`),f=e.insights||[],g=e.pagination?.total||B;if(f.length>0){let a=[...t,...f];u(a),C(g),y(a.length<g),A(d)}else y(!1)}catch(a){console.error("Failed to load more insights:",a),y(!1)}finally{w(!1)}}},[v,x,t,a,B]);return((0,c.useEffect)(()=>{y(t.length<B)},[t.length,B]),0===t.length)?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:a?`No ${p[a]||a}s found.`:"No insights found."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(a=>(0,b.jsx)(d.default,{href:`/insights/${a.slug}`,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsxs)(f.Card,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[a.coverImageUrl&&(0,b.jsx)("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:(0,b.jsx)(n.InsightImage,{src:(0,h.getImageUrl)(a.coverImageUrl),alt:a.title,className:"w-full h-full object-cover",loading:"lazy"})}),(0,b.jsxs)(f.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(e.Badge,{className:`${q[a.type]||"bg-gray-500"} text-white capitalize px-4 py-1.5 text-sm transform-[translateY(-15px)]`,children:p[a.type]||a.type}),a.publishedAt&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(j.Calendar,{className:"h-3 w-3"}),(0,h.formatDate)(a.publishedAt)]})]}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-4",children:a.summary}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(k.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.author.name})]}),a.tags.length>0&&(0,b.jsx)("div",{className:"flex gap-1",children:a.tags.slice(0,2).map(a=>(0,b.jsx)(e.Badge,{variant:"outline",className:"text-sm px-3 py-1",children:a.name},a.id))})]}),(0,b.jsx)("div",{className:"flex justify-end mt-auto",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"gap-2 hover:underline text-primary hover:text-primary hover:bg-transparent p-0 h-auto",children:["Read More ",(0,b.jsx)(m.ArrowRight,{className:"h-4 w-4"})]})})]})]})},a.id))}),x&&(0,b.jsx)("div",{className:"flex justify-center mt-8",children:(0,b.jsx)(g.Button,{onClick:D,disabled:v,variant:"outline",size:"lg",children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):"Load More"})})]})}a.s(["InsightsGrid",()=>r])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},62477,a=>{"use strict";class b extends Error{status;data;constructor(a,b,c){super(a),this.status=b,this.data=c,this.name="ApiError"}}let c=new class{async request(a,c={}){let d=`http://localhost:5000/api/v1${a}`,e=new Headers(c.headers);e.set("x-api-key","spx-1234567890abcdef"),c.body instanceof FormData||e.set("Content-Type","application/json");let f={...c,headers:e,credentials:"omit"};try{let c=await fetch(d,f);if(!c.ok){let f;401===c.status&&console.error("[API Client] 401 Unauthorized:",{endpoint:a,url:d,hasToken:!1,tokenLength:0,hasAuthHeader:e.has("Authorization"),authHeaderValue:e.get("Authorization")?.substring(0,30)+"...",allHeaders:Object.fromEntries(e.entries())});try{f=await c.json()}catch{f=await c.text()}throw new b(f?.message||`HTTP ${c.status}`,c.status,f)}if(204===c.status)return{};return await c.json()}catch(a){if(a instanceof b)throw a;throw new b("Network error",0,a)}}async get(a,b){return this.request(a,{method:"GET",...b})}async post(a,b,c){let d=b instanceof FormData?b:JSON.stringify(b);return this.request(a,{method:"POST",body:d,...c})}async patch(a,b,c){let d=b instanceof FormData?b:JSON.stringify(b);return this.request(a,{method:"PATCH",body:d,...c})}async delete(a,b){return this.request(a,{method:"DELETE",...b})}};a.s(["api",0,c])},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},32262,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(12043),e=a.i(97895);function f({src:a,alt:f,className:g="",loading:h="lazy"}){let[i,j]=(0,c.useState)(a),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{n(!0),l(!1),j(a)},[a]),(0,b.jsxs)("div",{className:"relative",children:[m&&(0,b.jsx)(d.ImageSkeleton,{className:(0,e.cn)("absolute inset-0",g)}),!k&&(0,b.jsx)("img",{src:i,alt:f,className:(0,e.cn)("transition-opacity duration-300",m?"opacity-0":"opacity-100",g),loading:h,crossOrigin:k?void 0:"anonymous",referrerPolicy:"no-referrer",onLoad:()=>{n(!1)},onError:()=>{n(!1),k||(l(!0),j(a))}}),k&&(0,b.jsx)("div",{className:(0,e.cn)("bg-muted flex items-center justify-center",g),children:(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Failed to load image"})})]})}a.s(["InsightImage",()=>f])}];

//# sourceMappingURL=_21836a27._.js.map