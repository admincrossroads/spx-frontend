module.exports=[56757,a=>{"use strict";var b=a.i(57441);a.s(["z",0,b])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(187),h=a.i(97895);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],17171)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},86796,a=>{"use strict";let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],86796)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},65602,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},51678,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(56757),h=a.i(40695),i=a.i(58213),j=a.i(5522),k=a.i(46893),l=a.i(65602),m=a.i(3130),n=a.i(17171),o=a.i(46842),p=a.i(86796),q=a.i(33508),r=a.i(62477);let s=g.z.object({name:g.z.string().min(1,"Name is required").max(100,"Name is too long"),bio:g.z.string().max(500,"Bio is too long").optional(),imageUrl:g.z.string().url("Invalid URL").optional().or(g.z.literal(""))});function t({author:a,mode:g="create"}){let t=(0,d.useRouter)(),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(a?.imageUrl||null),A=(0,e.useForm)({resolver:(0,f.zodResolver)(s),defaultValues:{name:a?.name||"",bio:a?.bio||"",imageUrl:a?.imageUrl||""}});async function B(b){try{if(x(!0),v(""),"create"===g)await r.api.post("/admin/authors",{name:b.name,bio:b.bio||void 0,imageUrl:b.imageUrl||void 0}),t.push("/admin/authors");else if(a){let c={name:b.name,bio:b.bio||null,imageUrl:b.imageUrl||null};await r.api.patch(`/admin/authors/${a.id}`,c),t.push("/admin/authors")}}catch(a){console.error("Failed to save author:",a),v(a?.data?.message||a?.message||"Failed to save author")}finally{x(!1)}}return(0,b.jsxs)("div",{className:"max-w-2xl",children:[u&&(0,b.jsx)(l.Alert,{variant:"destructive",className:"mb-6",children:(0,b.jsx)(l.AlertDescription,{children:u})}),(0,b.jsx)(i.Form,{...A,children:(0,b.jsxs)("form",{onSubmit:A.handleSubmit(B),className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,b.jsx)(m.Card,{className:"md:col-span-1",children:(0,b.jsx)(m.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(n.Label,{children:"Author Image"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"aspect-square w-full rounded-lg border-2 border-dashed border-muted-foreground/25 flex items-center justify-center overflow-hidden bg-muted/50",children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:y,alt:"Author preview",className:"h-full w-full object-cover"}),(0,b.jsx)(h.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:function(){A.setValue("imageUrl",""),z(null)},children:(0,b.jsx)(q.X,{className:"h-4 w-4"})})]}):(0,b.jsx)(o.User,{className:"h-16 w-16 text-muted-foreground/50"})}),(0,b.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,b.jsx)(i.FormField,{control:A.control,name:"imageUrl",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Image URL"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"https://example.com/image.jpg",...a,onChange:b=>{var c;a.onChange(b),c=b.target.value,A.setValue("imageUrl",c),z(c)}})}),(0,b.jsx)(i.FormDescription,{children:"Enter a direct image URL or upload to your server"}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,b.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(p.Upload,{className:"h-3 w-3"}),"Upload feature coming soon"]})})]})]})]})})}),(0,b.jsx)(m.Card,{className:"md:col-span-2",children:(0,b.jsxs)(m.CardContent,{className:"pt-6 space-y-6",children:[(0,b.jsx)(i.FormField,{control:A.control,name:"name",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Full Name *"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"John Doe",...a})}),(0,b.jsx)(i.FormDescription,{children:"The author's full name as it should appear on insights"}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:A.control,name:"bio",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Bio"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Senior market analyst with 10+ years of experience...",className:"min-h-[120px]",...a})}),(0,b.jsx)(i.FormDescription,{children:"Brief biography or description of the author"}),(0,b.jsx)(i.FormMessage,{})]})})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>t.back(),disabled:w,children:"Cancel"}),(0,b.jsx)(h.Button,{type:"submit",disabled:w,children:w?"Saving...":"create"===g?"Create Author":"Update Author"})]})]})})]})}a.s(["AuthorForm",()=>t])},48789,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3130),f=a.i(210),g=a.i(46842),h=a.i(38246),i=a.i(51678),j=a.i(62477);function k(){let a=(0,d.useParams)(),k=(0,d.useRouter)(),l=a?.id,[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){if(!l)return;let a=parseInt(l);if(isNaN(a))return k.push("/admin/authors");try{let b=await j.api.get(`/admin/authors/${a}`);n(b)}catch(a){console.error("Failed to fetch author:",a),k.push("/admin/authors")}finally{p(!1)}}()},[l,k]),o)?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading author..."})]})})}):m?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)(h.default,{href:"/admin/authors",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(f.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Authors"]})}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Author"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Update author information"})]}),(0,b.jsx)("div",{className:"bg-primary/10 p-3 rounded-full",children:(0,b.jsx)(g.User,{className:"h-6 w-6 text-primary"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{children:["Edit ",m.name]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(i.AuthorForm,{author:m,mode:"edit"})})]})]}):null}a.s(["default",()=>k])}];

//# sourceMappingURL=_ba060700._.js.map