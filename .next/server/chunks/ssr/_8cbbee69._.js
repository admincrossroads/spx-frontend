module.exports=[41379,a=>{"use strict";let b=(0,a.i(70106).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},28094,a=>{"use strict";var b=a.i(72131),c=a.i(30553),d=a.i(87924),e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{...e,...a.style}}));f.displayName="VisuallyHidden",a.s(["VISUALLY_HIDDEN_STYLES",()=>e,"VisuallyHidden",()=>f])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(187),h=a.i(97895);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],17171)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},59777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(40695),h=a.i(5522),i=a.i(58213),j=a.i(87682),k=a.i(3130),l=a.i(80281),m=a.i(96221),n=a.i(210),o=a.i(14548),p=a.i(46842),q=a.i(77156),r=a.i(41379),s=a.i(62477),t=a.i(38246),u=a.i(54714);u.object({email:u.string().email("Invalid email address").min(1,"Email is required"),name:u.string().min(1,"Name is required").max(100),password:u.string().min(6,"Password must be at least 6 characters"),role:u.enum(["ADMIN","EDITOR","VIEWER"]),isActive:u.boolean().default(!0)}).strict();let v=u.object({email:u.string().email("Invalid email address").optional(),name:u.string().min(1,"Name is required").max(100).optional(),password:u.string().min(6,"Password must be at least 6 characters").optional().or(u.literal("")),role:u.enum(["ADMIN","EDITOR","VIEWER"]).optional(),isActive:u.boolean().optional()}).strict();function w(){let a=(0,d.useRouter)(),u=(0,d.useParams)().id,[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),E=(0,e.useForm)({resolver:(0,f.zodResolver)(v),defaultValues:{email:"",name:"",password:"",role:"EDITOR",isActive:!0}});(0,c.useEffect)(()=>{let b=async()=>{x(!0);try{let a=await s.api.get(`/admin/users/${u}`);B(a),E.reset({email:a.email,name:a.name,password:"",role:a.role,isActive:a.isActive})}catch(c){console.error("Failed to load user:",c);let b=c?.data?.message||c?.message||"Failed to load user";alert(`Error: ${b}

The user endpoint may not be available. Redirecting...`),a.push("/admin/settings/users")}finally{x(!1)}};u&&b()},[u,E,a]);let F=async b=>{z(!0);try{let c={...b};c.password||delete c.password,await s.api.patch(`/admin/users/${u}`,c),a.push("/admin/settings/users"),a.refresh()}catch(a){console.error("Failed to update user:",a),alert(a.message||"Failed to update user")}finally{z(!1)}};return w?(0,b.jsx)("div",{className:"container mx-auto py-6 flex items-center justify-center min-h-[50vh]",children:(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,b.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(t.default,{href:"/admin/settings/users",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(n.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Edit User"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Editing: ",A?.name]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsxs)(k.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.User,{className:"h-5 w-5"}),"Edit User Information"]}),(0,b.jsx)(k.CardDescription,{children:"Update user details below"})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)(i.Form,{...E,children:(0,b.jsxs)("form",{onSubmit:E.handleSubmit(F),className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(i.FormField,{control:E.control,name:"name",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Full Name"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"John Doe",...a})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:E.control,name:"email",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Email Address"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(h.Input,{type:"email",placeholder:"john@example.com",...a})}),(0,b.jsx)(i.FormMessage,{})]})})]}),(0,b.jsx)(i.FormField,{control:E.control,name:"password",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"New Password"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{type:C?"text":"password",placeholder:"Leave blank to keep current",...a,value:a.value||""}),(0,b.jsx)("button",{type:"button",onClick:()=>D(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:C?(0,b.jsx)(r.EyeOff,{className:"h-4 w-4"}):(0,b.jsx)(q.Eye,{className:"h-4 w-4"})})]})}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Leave blank to keep current password"}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(i.FormField,{control:E.control,name:"role",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Role"}),(0,b.jsxs)(j.Select,{onValueChange:a.onChange,value:a.value,children:[(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Select role"})})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"ADMIN",children:"Administrator"}),(0,b.jsx)(j.SelectItem,{value:"EDITOR",children:"Editor"}),(0,b.jsx)(j.SelectItem,{value:"VIEWER",children:"Viewer"})]})]}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:E.control,name:"isActive",render:({field:a})=>(0,b.jsxs)(i.FormItem,{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(i.FormLabel,{children:"Account Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active users can login"})]}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(l.Switch,{checked:a.value,onCheckedChange:a.onChange})})]})})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsxs)(g.Button,{type:"submit",disabled:y,children:[y&&(0,b.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),(0,b.jsx)(o.Save,{className:"mr-2 h-4 w-4"}),"Save Changes"]}),(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>a.push("/admin/settings/users"),children:"Cancel"})]})]})})})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(k.Card,{children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{className:"text-sm",children:"User Information"})}),(0,b.jsxs)(k.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"User ID"}),(0,b.jsx)("p",{className:"text-muted-foreground font-mono",children:A?.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Created"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:A?.createdAt?new Date(A.createdAt).toLocaleDateString():"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Last Updated"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:A?.updatedAt?new Date(A.updatedAt).toLocaleDateString():"N/A"})]})]})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{className:"text-sm",children:"Security Note"})}),(0,b.jsxs)(k.CardContent,{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsx)("p",{children:"• Password field is optional for updates"}),(0,b.jsx)("p",{children:"• User will need to login after role changes"}),(0,b.jsx)("p",{children:"• Deactivated users cannot login"}),(0,b.jsx)("p",{children:"• Changes take effect immediately"})]})]})]})]})]})}a.s(["default",()=>w],59777)}];

//# sourceMappingURL=_8cbbee69._.js.map