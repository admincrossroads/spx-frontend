module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},14882,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(62477),f=a.i(70106);let g=(0,f.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var h=a.i(4720),i=a.i(60246),j=a.i(33350),k=a.i(41675);let l=(0,f.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);function m(a){let b=new Date(a),c=Math.floor(Math.floor((new Date().getTime()-b.getTime())/1e3)/60),d=Math.floor(c/60),e=Math.floor(d/24);return e>0?`${e} ${1===e?"day":"days"} ago`:d>0?`${d} ${1===d?"hour":"hours"} ago`:c>0?`${c} ${1===c?"minute":"minutes"} ago`:"Just now"}function n(){let[a,f]=(0,c.useState)(0),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(0),[r,s]=(0,c.useState)(0),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0);(0,c.useEffect)(()=>{!async function(){try{let[a,b,c]=await Promise.all([e.api.get("/admin/insights?limit=50").catch(()=>({insights:[],pagination:{total:0}})),e.api.get("/admin/authors").catch(()=>[]),e.api.get("/admin/tags").catch(()=>[])]),d=a?.insights||(Array.isArray(a)?a:[]);if(d.length>0){f(a.pagination?.total||d.length),o(d.filter(a=>a.isPublished).length);let b=[];d.forEach(a=>{if(a.isPublished&&a.publishedAt&&b.push({action:"Published",title:a.title,time:m(a.publishedAt),timestamp:new Date(a.publishedAt).getTime()}),a.updatedAt){let c=new Date(a.updatedAt).getTime(),d=a.publishedAt?new Date(a.publishedAt).getTime():0;(!a.publishedAt||c-d>6e4)&&b.push({action:"Updated",title:a.title,time:m(a.updatedAt),timestamp:c})}}),b.sort((a,b)=>b.timestamp-a.timestamp),u(b.slice(0,5).map(({timestamp:a,...b})=>b))}q(Array.isArray(b)?b.length:0),s(Array.isArray(c)?c.length:0)}catch(a){if(a?.status===401){localStorage.removeItem("token"),window.location.href="/admin/login";return}}finally{w(!1)}}()},[]);let x=[{label:"Total Insights",value:a.toString(),icon:h.FileText,change:"—"},{label:"Published",value:n.toString(),icon:g,change:"—"},{label:"Authors",value:p.toString(),icon:i.Users,change:"—"},{label:"Tags",value:r.toString(),icon:j.Tag,change:"—"}];return v?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading dashboard..."})]})})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Welcome back, Admin!"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:x.map(a=>(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:a.label}),(0,b.jsx)(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center",children:[(0,b.jsx)(l,{className:"mr-1 h-3 w-3"}),a.change," from last month"]})]})]},a.label))}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Recent Activity"})}),(0,b.jsx)(d.CardContent,{children:t.length>0?(0,b.jsx)("div",{className:"space-y-4",children:t.map((a,c)=>(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.action," • ",a.time]})]})},`${a.title}-${c}`))}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent activity to display"})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Quick Actions"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("a",{href:"/admin/insights/new",className:"flex flex-col items-center justify-center rounded-lg border p-4 hover:bg-accent transition-colors",children:[(0,b.jsx)(h.FileText,{className:"h-6 w-6 mb-2"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"New Insight"})]}),(0,b.jsxs)("a",{href:"/admin/authors/new",className:"flex flex-col items-center justify-center rounded-lg border p-4 hover:bg-accent transition-colors",children:[(0,b.jsx)(i.Users,{className:"h-6 w-6 mb-2"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Add Author"})]}),(0,b.jsxs)("a",{href:"/admin/tags",className:"flex flex-col items-center justify-center rounded-lg border p-4 hover:bg-accent transition-colors",children:[(0,b.jsx)(j.Tag,{className:"h-6 w-6 mb-2"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Manage Tags"})]}),(0,b.jsxs)("a",{href:"/admin/insights",className:"flex flex-col items-center justify-center rounded-lg border p-4 hover:bg-accent transition-colors",children:[(0,b.jsx)(g,{className:"h-6 w-6 mb-2"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"View All"})]})]})})]})]})]})}a.s(["default",()=>n],14882)}];

//# sourceMappingURL=_dc2eafb1._.js.map