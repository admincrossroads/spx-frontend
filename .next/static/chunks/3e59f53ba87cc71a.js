(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81307,e=>{"use strict";var r=e.i(22219);e.s(["z",0,r])},70065,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(47163);let s=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...a}));s.displayName="Card";let i=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle";let o=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let d=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>o,"CardHeader",()=>i,"CardTitle",()=>l])},23750,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(47163);let s=a.forwardRef(({className:e,type:a,...s},i)=>(0,r.jsx)("input",{type:a,className:(0,t.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},10708,e=>{"use strict";var r=e.i(43476),a=e.i(71645);e.i(74080);var t=e.i(91918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,t.createSlot)(`Primitive.${s}`),l=a.forwardRef((e,a)=>{let{asChild:t,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(t?i:s,{...l,ref:a})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{}),i=a.forwardRef((e,a)=>(0,r.jsx)(s.label,{...e,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=e.i(54406),o=e.i(47163);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...a},t)=>(0,r.jsx)(i,{ref:t,className:(0,o.cn)(d(),e),...a}));n.displayName=i.displayName,e.s(["Label",()=>n],10708)},71689,e=>{"use strict";let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],71689)},84762,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(47163);let s=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));s.displayName="Textarea",e.s(["Textarea",()=>s])},69074,e=>{"use strict";let r=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>r],69074)},37727,e=>{"use strict";let r=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>r],37727)},81947,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(54406),s=e.i(47163);let i=(0,t.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:a,...t},l)=>(0,r.jsx)("div",{ref:l,role:"alert",className:(0,s.cn)(i({variant:a}),e),...t}));l.displayName="Alert";let o=a.forwardRef(({className:e,...a},t)=>(0,r.jsx)("h5",{ref:t,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",e),...a}));o.displayName="AlertTitle";let d=a.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",e),...a}));d.displayName="AlertDescription",e.s(["Alert",()=>l,"AlertDescription",()=>d,"AlertTitle",()=>o])},41416,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566),s=e.i(53145),i=e.i(94814),l=e.i(81307),o=e.i(67881),d=e.i(74946),n=e.i(23750),c=e.i(84762),m=e.i(81947),u=e.i(70065),x=e.i(10708),f=e.i(84614),h=e.i(69074),p=e.i(37727),g=e.i(15760);let v=l.z.object({name:l.z.string().min(1,"Name is required").max(100,"Name is too long"),bio:l.z.string().max(500,"Bio is too long").optional(),imageUrl:l.z.string().url("Invalid URL").optional().or(l.z.literal(""))});function j({author:e,mode:l="create"}){let j=(0,t.useRouter)(),[b,N]=(0,a.useState)(""),[y,w]=(0,a.useState)(!1),[C,F]=(0,a.useState)(e?.imageUrl||null),U=(0,s.useForm)({resolver:(0,i.zodResolver)(v),defaultValues:{name:e?.name||"",bio:e?.bio||"",imageUrl:e?.imageUrl||""}});async function R(r){try{if(w(!0),N(""),"create"===l)await g.api.post("/admin/authors",{name:r.name,bio:r.bio||void 0,imageUrl:r.imageUrl||void 0}),j.push("/admin/authors");else if(e){let a={name:r.name,bio:r.bio||null,imageUrl:r.imageUrl||null};await g.api.patch(`/admin/authors/${e.id}`,a),j.push("/admin/authors")}}catch(e){console.error("Failed to save author:",e),N(e?.data?.message||e?.message||"Failed to save author")}finally{w(!1)}}return(0,r.jsxs)("div",{className:"max-w-2xl",children:[b&&(0,r.jsx)(m.Alert,{variant:"destructive",className:"mb-6",children:(0,r.jsx)(m.AlertDescription,{children:b})}),(0,r.jsx)(d.Form,{...U,children:(0,r.jsxs)("form",{onSubmit:U.handleSubmit(R),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,r.jsx)(u.Card,{className:"md:col-span-1",children:(0,r.jsx)(u.CardContent,{className:"pt-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(x.Label,{children:"Author Image"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"aspect-square w-full rounded-lg border-2 border-dashed border-muted-foreground/25 flex items-center justify-center overflow-hidden bg-muted/50",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:C,alt:"Author preview",className:"h-full w-full object-cover"}),(0,r.jsx)(o.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:function(){U.setValue("imageUrl",""),F(null)},children:(0,r.jsx)(p.X,{className:"h-4 w-4"})})]}):(0,r.jsx)(f.User,{className:"h-16 w-16 text-muted-foreground/50"})}),(0,r.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,r.jsx)(d.FormField,{control:U.control,name:"imageUrl",render:({field:e})=>(0,r.jsxs)(d.FormItem,{children:[(0,r.jsx)(d.FormLabel,{children:"Image URL"}),(0,r.jsx)(d.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"https://example.com/image.jpg",...e,onChange:r=>{var a;e.onChange(r),a=r.target.value,U.setValue("imageUrl",a),F(a)}})}),(0,r.jsx)(d.FormDescription,{children:"Enter a direct image URL or upload to your server"}),(0,r.jsx)(d.FormMessage,{})]})}),(0,r.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,r.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(h.Upload,{className:"h-3 w-3"}),"Upload feature coming soon"]})})]})]})]})})}),(0,r.jsx)(u.Card,{className:"md:col-span-2",children:(0,r.jsxs)(u.CardContent,{className:"pt-6 space-y-6",children:[(0,r.jsx)(d.FormField,{control:U.control,name:"name",render:({field:e})=>(0,r.jsxs)(d.FormItem,{children:[(0,r.jsx)(d.FormLabel,{children:"Full Name *"}),(0,r.jsx)(d.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"John Doe",...e})}),(0,r.jsx)(d.FormDescription,{children:"The author's full name as it should appear on insights"}),(0,r.jsx)(d.FormMessage,{})]})}),(0,r.jsx)(d.FormField,{control:U.control,name:"bio",render:({field:e})=>(0,r.jsxs)(d.FormItem,{children:[(0,r.jsx)(d.FormLabel,{children:"Bio"}),(0,r.jsx)(d.FormControl,{children:(0,r.jsx)(c.Textarea,{placeholder:"Senior market analyst with 10+ years of experience...",className:"min-h-[120px]",...e})}),(0,r.jsx)(d.FormDescription,{children:"Brief biography or description of the author"}),(0,r.jsx)(d.FormMessage,{})]})})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>j.back(),disabled:y,children:"Cancel"}),(0,r.jsx)(o.Button,{type:"submit",disabled:y,children:y?"Saving...":"create"===l?"Create Author":"Update Author"})]})]})})]})}e.s(["AuthorForm",()=>j])},39489,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566),s=e.i(70065),i=e.i(71689),l=e.i(84614),o=e.i(22016),d=e.i(41416),n=e.i(15760);function c(){let e=(0,t.useParams)(),c=(0,t.useRouter)(),m=e?.id,[u,x]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{!async function(){if(!m)return;let e=parseInt(m);if(isNaN(e))return c.push("/admin/authors");try{let r=await n.api.get(`/admin/authors/${e}`);x(r)}catch(e){console.error("Failed to fetch author:",e),c.push("/admin/authors")}finally{h(!1)}}()},[m,c]),f)?(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading author..."})]})})}):u?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)(o.default,{href:"/admin/authors",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Authors"]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Author"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Update author information"})]}),(0,r.jsx)("div",{className:"bg-primary/10 p-3 rounded-full",children:(0,r.jsx)(l.User,{className:"h-6 w-6 text-primary"})})]}),(0,r.jsxs)(s.Card,{children:[(0,r.jsx)(s.CardHeader,{children:(0,r.jsxs)(s.CardTitle,{children:["Edit ",u.name]})}),(0,r.jsx)(s.CardContent,{children:(0,r.jsx)(d.AuthorForm,{author:u,mode:"edit"})})]})]}):null}e.s(["default",()=>c])}]);