(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81307,e=>{"use strict";var s=e.i(22219);e.s(["z",0,s])},77705,e=>{"use strict";let s=(0,e.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>s],77705)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},64659,e=>{"use strict";let s=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659)},59411,e=>{"use strict";var s=e.i(71645),r=e.i(48425),a=e.i(43476),t=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),l=s.forwardRef((e,s)=>(0,a.jsx)(r.Primitive.span,{...e,ref:s,style:{...t,...e.style}}));l.displayName="VisuallyHidden",e.s(["VISUALLY_HIDDEN_STYLES",()=>t,"VisuallyHidden",()=>l])},70065,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(47163);let t=r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));t.displayName="Card";let l=r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let d=r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let n=r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));n.displayName="CardContent",r.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},23750,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(47163);let t=r.forwardRef(({className:e,type:r,...t},l)=>(0,s.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...t}));t.displayName="Input",e.s(["Input",()=>t])},10708,e=>{"use strict";var s=e.i(43476),r=e.i(71645);e.i(74080);var a=e.i(91918),t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let l=(0,a.createSlot)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?l:t,{...i,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),l=r.forwardRef((e,r)=>(0,s.jsx)(t.label,{...e,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var i=e.i(54406),d=e.i(47163);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)(l,{ref:a,className:(0,d.cn)(n(),e),...r}));o.displayName=l.displayName,e.s(["Label",()=>o],10708)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},79002,e=>{"use strict";let s=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>s],79002)},19804,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(18566),t=e.i(53145),l=e.i(94814),i=e.i(81307),d=e.i(67881),n=e.i(23750),o=e.i(74946),c=e.i(62870),m=e.i(70065),u=e.i(19036),x=e.i(31278),h=e.i(71689),p=e.i(79002),f=e.i(86536),j=e.i(77705),g=e.i(15760),y=e.i(22016);let v=i.z.object({email:i.z.string().email("Invalid email address").min(1,"Email is required"),name:i.z.string().min(1,"Name is required").max(100),password:i.z.string().min(6,"Password must be at least 6 characters"),role:i.z.enum(["ADMIN","EDITOR","VIEWER"]),isActive:i.z.boolean().default(!0)});function N(){let e=(0,a.useRouter)(),[i,N]=(0,r.useState)(!1),[w,b]=(0,r.useState)(!1),C=(0,t.useForm)({resolver:(0,l.zodResolver)(v),defaultValues:{email:"",name:"",password:"",role:"EDITOR",isActive:!0}}),F=async s=>{N(!0);try{console.log("Creating user with data:",{...s,password:s.password?`[${s.password.length} chars]`:"[MISSING]"});let r=await g.api.post("/admin/users",s);console.log("User created successfully:",r),e.push("/admin/settings/users"),e.refresh()}catch(s){console.error("Failed to create user:",s),console.error("Error details:",s?.data);let e=s?.data?.message||s?.message||"Failed to create user";alert(`Error creating user: ${e}`)}finally{N(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(y.default,{href:"/admin/settings/users",children:(0,s.jsxs)(d.Button,{variant:"ghost",size:"sm",children:[(0,s.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Create New User"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Add a new admin user to the system"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(m.Card,{children:[(0,s.jsxs)(m.CardHeader,{children:[(0,s.jsxs)(m.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.UserPlus,{className:"h-5 w-5"}),"User Information"]}),(0,s.jsx)(m.CardDescription,{children:"Fill in the user details below"})]}),(0,s.jsx)(m.CardContent,{children:(0,s.jsx)(o.Form,{...C,children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit(F),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(o.FormField,{control:C.control,name:"name",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Full Name *"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(n.Input,{placeholder:"John Doe",...e})}),(0,s.jsx)(o.FormMessage,{})]})}),(0,s.jsx)(o.FormField,{control:C.control,name:"email",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Email Address *"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(n.Input,{type:"email",placeholder:"john@example.com",...e})}),(0,s.jsx)(o.FormMessage,{})]})})]}),(0,s.jsx)(o.FormField,{control:C.control,name:"password",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Password *"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.Input,{type:w?"text":"password",placeholder:"••••••••",...e}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:w?(0,s.jsx)(j.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(f.Eye,{className:"h-4 w-4"})})]})}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Minimum 6 characters"}),(0,s.jsx)(o.FormMessage,{})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(o.FormField,{control:C.control,name:"role",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Role *"}),(0,s.jsxs)(c.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.SelectTrigger,{children:(0,s.jsx)(c.SelectValue,{placeholder:"Select role"})})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"ADMIN",children:"Administrator"}),(0,s.jsx)(c.SelectItem,{value:"EDITOR",children:"Editor"}),(0,s.jsx)(c.SelectItem,{value:"VIEWER",children:"Viewer"})]})]}),(0,s.jsx)(o.FormMessage,{})]})}),(0,s.jsx)(o.FormField,{control:C.control,name:"isActive",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(o.FormLabel,{children:"Account Status"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active users can login"})]}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(u.Switch,{checked:e.value,onCheckedChange:e.onChange})})]})})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsxs)(d.Button,{type:"submit",disabled:i,children:[i&&(0,s.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]}),(0,s.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>e.push("/admin/settings/users"),children:"Cancel"})]})]})})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsx)(m.CardTitle,{className:"text-sm",children:"Role Information"})}),(0,s.jsxs)(m.CardContent,{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Administrator"})]}),(0,s.jsx)("p",{className:"text-muted-foreground pl-5",children:"Full access to all features including user management"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Editor"})]}),(0,s.jsx)("p",{className:"text-muted-foreground pl-5",children:"Can create/edit insights, authors, and tags"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Viewer"})]}),(0,s.jsx)("p",{className:"text-muted-foreground pl-5",children:"Read-only access to insights dashboard"})]})]})]}),(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsx)(m.CardTitle,{className:"text-sm",children:"Best Practices"})}),(0,s.jsxs)(m.CardContent,{className:"space-y-2 text-sm text-muted-foreground",children:[(0,s.jsx)("p",{children:"• Use strong, unique passwords"}),(0,s.jsx)("p",{children:"• Assign minimum required permissions"}),(0,s.jsx)("p",{children:"• Regularly review user access"}),(0,s.jsx)("p",{children:"• Deactivate unused accounts"})]})]})]})]})]})}e.s(["default",()=>N])}]);